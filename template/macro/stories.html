{% macro story(story, first=False, thumbnail=False, standfirst=True, first_para=False) -%}
<table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr>
    <td style="padding: 10px 20px 20px 20px;{% if not first %} border-top: 1px solid #dedede;{% endif %}">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td align="left" valign="top"{% if not first %} style="{% if not story.fields.thumbnail %} height: 40px;{% endif %}"{% endif %}>
            {% if story.fields.thumbnail and thumbnail %}<img class="story-image" src="{{ story.fields.thumbnail }}" width="100" height="60" align="right" style="padding: 0 0 0 10px;" />{% endif %}
            <a class="story-title" href="{{ story.webUrl }}" style="color: #005689; font: 15px/19px Georgia, serif; text-decoration: none;">{{ story.webTitle }}</a>
            <br />
            {% if first_para %}<a href="{{ story.webUrl }}" style="text-decoration: none; font-family: helvetica, arial, sans-serif; font-size: 13px; color: #555555; line-height: 1.4;">{{ story.fields.body|striptags|first_paragraph }}</a>
            {% elif standfirst %}<a href="{{ story.webUrl }}"
                                    style="text-decoration: none; font-family: helvetica, arial, sans-serif; font-size: 12px; color: #555555;">
              {{ story.fields.trailText|striptags }}</a>{% endif %}
          </td>
        </tr>
        {% if story.comment_count %}
        <tr>
          <td>
            <a class="trail-comment-count" href="{{ story.webUrl }}#start-of-comments"> {{ story.comment_count }} comments</a>
          </td>
        </tr>
        {% endif %}
        {% if story.share_count %}
        <tr>
          <td class="trail-share-count">
             <b>{{ story.share_count }} shares</b>
          </td>
        </tr>
        {% endif %}
      </table>
    </td>
  </tr>
</table>
{%- endmacro %}
